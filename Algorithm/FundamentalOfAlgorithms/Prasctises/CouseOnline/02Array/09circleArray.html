<script type="text/javascript">
	var arr=[1,4,6,-20,3,6];
	function getMax(arr){
		var min=arr[0],i=0,answer=arr[0];
		for(i=1;i<arr.length;i++){
			min=Math.min(min+arr[i],arr[i]);
			answer=Math.min(min,answer);
		}
		return min;
	}
	console.log(getMax(arr));

	function circle(arr){
		var max=arr[0],min=arr[0],endMin=0,endMax=0,total=0;
		for(var i=0;i<arr.length;i++){
			endMax=Math.max(endMax+arr[i],arr[i]);
			endMin=Math.min(endMin+arr[i],arr[i]);
			max=Math.max(endMax,max);
			min=Math.min(endMin,min);
			total+=arr[i];
		}
		return Math.max(max,total-min);
	}
	console.log(circle(arr));
</script> 